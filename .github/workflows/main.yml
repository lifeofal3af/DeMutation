name: Build and Upload Artifact

on:
  workflow_dispatch:  # Allows manual triggering

jobs:
  build:
    runs-on: windows-latest  # Use a Windows runner for .NET build
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3  # Checkout the code from the repository

    - name: Set up .NET
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: '9.0'  # Use the version of .NET required for your project

    - name: Restore dependencies
      run: dotnet restore DeMutation.sln  # Restore the project's dependencies

    - name: Build project
      run: dotnet build DeMutation.sln -c Release  # Build the project in Release mode

    - name: Run tests (optional)
      run: dotnet test DeMutation.sln  # Run tests if you have any unit tests in the solution

    - name: Upload Artifact
      uses: actions/upload-artifact@v3
      with:
        name: DeMutation-artifact  # Name of the artifact
        path: DeMutation/bin/Release/net9.0  # Path to the output directory (adjust based on your target framework version)
